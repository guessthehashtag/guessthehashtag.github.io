<!DOCTYPE html>
<html lang="en">

<head>
  <title>Hash It Out</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="styles.css" type="text/css">
</head>

<body>
  <div id="splashScreen" style="opacity: 1; display: block;">
    <div style="margin-top: 16%; font-size: 32px;">
      <h1 style="text-align:center;">#LetsHashItOut</h1>

      <div style="font-size: 32px; text-align: center;">
        <button onclick="goToLogin()">Start</button>
        <br><br>
        <button onclick="goToInstr()">Instructions</button>
      </div>
    </div>
  </div>



  <div id="Instr" style="opacity: 1; display: none;">
    <div style="font-size: 25px; text-align: center;">
      <h1>Instructions</h1>
      <p>Enter instructions here</p>
      <button onclick="goToSplashScreen()">Back</button>
    </div>
  </div>

    <div id="Login" style="opacity: 1; display: none;">
      <div style="font-size: 20px; text-align: center; margin-top: 16%;">
        <h1>Enter Username</h1>
        <br>
        <div style="font-size: 32px; text-align: center;">
          <!-- <p >Enter username: <input id="username" maxlength="16" style="height: 50px; width: 285px; font-size: 32px;" type="text"><br></p> -->
          <form id = "usernameForm" action="">
            <p><input id="username" maxlength="16" style="height: 50px; width: 285px; font-size: 32px;" type="text">
                <br><br>
                <button onclick="goToLobby()">Continue</button><br></p>
            <!--<input type="button" onclick="goToLobby()" value="Continue"> -->
          </form>
        </div>
      </div>
    </div>

    <div id="Lobby" style="opacity: 1; display: none">
      <!-- <style>
          * { margin: 0; padding: 0; box-sizing: border-box; }    
          body { font: 13px Helvetica, Arial; }
          button { width: 9%; background: rgb(130, 224, 255); border: none; padding: 10px; }      
          #lobby { list-style-type: none; margin: 0; padding: 0; }
          #lobby li { padding: 5px 10px; }
          #lobby li:nth-child(odd) { background: #eee; }
        </style> -->
      <!--<h1>Lobby</h1> -->
      <div style="margin-left: 35%; width: 500px; text-align: center; display: block; border: 5px solid black; background-color: #0084b4; font-size: 24px;">
            <ul id="lobby" style="list-style-type: decimal;"></ul>
      </div>
      <!--<div style="display: block; border: 5px solid black;">
          <p >Player Name 1</p><br>
          <p >Player Name 2</p><br>
          <p >Player Name 3</p><br>
          <p >Player Name 4</p><br>
          <p >Player Name 5</p><br>
          <p >Player Name 6</p><br>
      </div> -->

      <button style="margin-left: 47.5%" onclick="goToAnswer()">Start Game</button>
    </div>
    <br>
    <div id="Answer" style="opacity: 1; display: none">

      <br>
      <div style="font-size: 32px; text-align: center;">
        <p style="margin-left: 32.5%; border: 5px solid black; background: white; color: #14171A; width: 500px; height: 200px;">One time at a drive-thru I was placing a long order, and at the end of it I realized I was talking to a garbage can.</p>
        <form id = "answerForm" action="">
          <p># <input id="htag" maxlength="16" style="height: 50px; width: 285px; font-size: 32px;" type="text"><button>Send</button><br></p>
        </form>
        <!--<p># <input maxlength="25" style="height: 50px; width: 450px; font-size: 32px;" type="text"><br></p> -->
        <button onclick="goToVote()">Submit</button>
      </div>
    </div>

    <div id="Vote" style="opacity: 1; display: none;">
      <!--<h1>Vote</h1>-->

      <div style="display: inline-block; margin-left: 27.5%; margin-top: 10%;">
        <button disabled="true" id = "button1" style="padding: 25px 50px 25px 50px; opacity: 1;">Option 1</button>
        <div class="spacer"></div>
        <button disabled="true" id = "button2" style="padding: 25px 50px 25px 50px; opacity: 1;">Option 2</button>
        <div class="spacer"></div>
        <button disabled="true" id = "button3" style="padding: 25px 50px 25px 50px; opacity: 1;">Option 3</button>
        <div class="spacer"></div>
        <br>
        <br>
        <br>
        <button disabled="true" id = "button4" style="padding: 25px 50px 25px 50px; opacity: 1;">Option 4</button>
        <div class="spacer"></div>
        <button disabled="true" id = "button5" style="padding: 25px 50px 25px 50px; opacity: 1;">Option 5</button>
        <div class="spacer"></div>
        <button disabled="true" id = "button6" style="padding: 25px 50px 25px 50px; opacity: 1;">Option 6</button>
        <div class="spacer"></div>
        <!--
          <div style="display: block;">
              <button>Option 1</button>
              <button>Option 2</button>
          </div>
          <div style="display: block">
              <button>Option 3</button>
              <button>Option 4</button>
          </div>
          <div style="display: block">
              <button>Option 5</button>
              <button>Option 6</button>
          </div>
        -->
      </div>

      <br>
      <br>

      <button style="margin-left: 45.5%" onclick="goToScoreboard()">Submit Answer</button>
    </div>

    <div id="Scoreboard" style="opacity: 1; display: none">
      <!--<h1>Scoreboard</h1>-->

      <div style="margin-left: 35%; width: 500px; text-align: center; display: block; border: 5px solid black; background-color: #0084b4; font-size: 24px;">
        <p>Player Name 1 & Score</p><br>
        <p>Player Name 2 & Score</p><br>
        <p>Player Name 3 & Score</p><br>
        <p>Player Name 4 & Score</p><br>
        <p>Player Name 5 & Score</p><br>
        <p>Player Name 6 & Score</p><br>
        <!--
            <div style="display: inline">
                <p style="float: left">Player Name 1</p>
                <p style="float: right">Score 1</p>
            </div>
            <br>
            <div style="display: inline">
                    <p style="float: left">Player Name 1</p>
                    <p style="float: right">Score 1</p>
            </div>
            <br>
            <div style="display: inline">
                    <p style="float: left">Player Name 1</p>
                    <p style="float: right">Score 1</p>
            </div>
            <br>
            <div style="display: inline">
                    <p style="float: left">Player Name 1</p>
                    <p style="float: right">Score 1</p>
            </div>
            <br>
            <div style="display: inline">
                    <p style="float: left">Player Name 1</p>
                    <p style="float: right">Score 1</p>
            </div>
        -->
      </div>

      <br>


      <button style="margin-left: 46.25%" onclick="goToWinner()">Continue to End</button>
    </div>

    <div id="Winner" style="opacity: 1; display: none">
      <!--<h1>Winner</h1>-->
      <div style="font-size: 32px; text-align: center;">
        <p>The winner is: </p>
        <p>Player x</p>
        <button onclick="goToSplashScreen()">Home</button>
      </div>
    </div>


    <script src="script.js"></script>
</body>
<script src="/socket.io/socket.io.js"></script>
<script src="https://code.jquery.com/jquery-1.11.1.js"></script>
<script>
  $(function () {
    var socket = io();
    /*$('form').submit(function(e){
      e.preventDefault(); // prevents page reloading
      socket.emit('chat message', $('#m').val());
      $('#m').val('');
      return false;
    });
    socket.on('chat message', function(msg){
      $('#messages').append($('<li>').text(msg));
    });*/
    $('#usernameForm').submit(function (e) {
      e.preventDefault(); // prevents page reloading
      socket.emit('uname', $('#username').val());
      //socket.emit('uname', window.location.search.substring(index, window.location.search.length-1));
      $('#username').val('');
      return false;
    });
    socket.on('uname', function (userNames) {
      //var counter = 0 //start from the next index each time
      $('#lobby').empty()
      for(var i = 0; i < userNames.length; ++i)
      {
        $('#lobby').append($('<li>').text(userNames[i]));      
      }
    });
    $('#answerForm').submit(function (f) {
      f.preventDefault(); // prevents page reloading
      socket.emit('hash', $('#htag').val());
      
      $('#htag').val('');
      return false;
    });
    socket.on('gotHash', function(htag, number, buttonNames){
      //button + string(number)
    var butt = document.getElementById("button" + number);
    butt.innerHTML ="#" + htag;
    buttonNames.push(butt.innerHTML);

    
    for(var i = 0; i < buttonNames.length; ++i)
    {
      document.getElementById("button" + i).innerHTML = "";
    }
    for(var i = 0; i < buttonNames.length; ++i)
    {
      document.getElementById("button" + i).innerHTML = buttonNames[i];
    }

    var b1 = document.getElementById("button1");
    if (b1.innerHTML.search("#") == -1)
    {
      b1.style.opacity = "0";
    }
    var b2 =document.getElementById("button2");
    if (b2.innerHTML.search("#") == -1)
    {
      b2.style.opacity = "0";
    }
    var b3 = document.getElementById("button3");
    if (b3.innerHTML.search("#") == -1)
    {
      b3.style.opacity = "0";
    }
    var b4 = document.getElementById("button4");
    if (b4.innerHTML.search("#") == -1)
    {
      b4.style.opacity = "0";
    }
    var b5 = document.getElementById("button5");
    if (b5.innerHTML.search("#") == -1)
    {
      b5.style.opacity = "0";
    }
    var b6 = document.getElementById("button6");
         
    b6.innerHTML = "";
    console.log("here");
    if (b6.innerHTML.search("#") == -1)
    {

      b6.style = "opacity: 0";
    }
    //butt.style = "disabled: false; opacity: 1;";
    });
    //var usrSubmit = document.getElementById("username");
  });

</script>

</html>